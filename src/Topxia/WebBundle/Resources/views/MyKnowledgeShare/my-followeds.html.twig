{% extends 'TopxiaWebBundle:Default:index.html.twig' %}
{% block left_header %} 
<ul class="nav hidden-xs-nav nav-pills nav-stacked">
  <li>
    <a href="{{path('homepage')}}">
      <i class="fa fa-book"></i><span>知识广场</span>
    </a>
  </li>
  <li class="active">
    <a href="{{path('my_knowledge_share')}}">
      <i class="fa fa-child"></i><span>我的知识库</span>
    </a>
  </li>
</ul>
{% endblock %}
{% block aside %}
  {% include 'TopxiaWebBundle::aside.html.twig' %}
{% endblock %}
{% block base_content %} 
  <div class="content">
    <div class="content-block new-content">
      {% block navTabs %}
        <ul class="nav nav-tabs">
          <li role="share"><a href="{{path('my_knowledge_share')}}">我的分享</a></li>
          <li role="myconcern"><a href="{{path('my_favorites')}}">我的收藏</a></li>
          <li role="topic" class="active"><a href="{{path('my_followeds', {type:'topic'})}}">我的关注</a></li>
        </ul>
      {% endblock %}
      <div class="row" id="topic-tables">
        {% if objects is defined %}
        <ul class="nav nav-tabs">
          <li role="topic" {% if (type == 'topic') %} class="active" {% endif %}><a href="{{path('my_followeds', {type:'topic'})}}">我关注的主题</a></li>
          <li role="share" {% if (type == 'user') %} class="active" {% endif %}><a href="{{path('my_followeds', {type:'user'})}}">我关注的用户</a></li>
        </ul>
          {% for object in objects %}
            {% if (type == 'user') %}
              {% set user = object %}
              {% set hasfollowed = true %}
              {% include "TopxiaWebBundle:MyKnowledgeShare:single-followed-users-list.html.twig" %}
            {% elseif (type == 'topic') %}
              {% set topic = object %}
              {% include "TopxiaWebBundle:Topic:single-topic-list.html.twig" %}
            {% endif %}
          {% endfor %}
        {% else %}
          <div class="panel-title">
            <h4 align="center">---暂无分享记录---</h4>
          </div>
        {% endif %}
      </div>
    </div>
{#   {{ web_macro.paginator(paginator) }} #}
  </div>  
{% endblock %}
